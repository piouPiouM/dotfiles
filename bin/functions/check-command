#!/usr/bin/env zsh
# @name check-command
# @brief Check for the existence of a command, otherwise exit with an error message.
#
# @arg $1 string Name of the command to test.
#
# @exitcode 0 If command exists.
# @exitcode 127 If command does not exists.
check-command() {
  builtin emulate -L zsh

  autoload -Uz is-cmd failed
	is-cmd "${1}" || failed 127 "Command not found: ${1}"
}